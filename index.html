<!DOCTYPE html>

<!--設定內容的語系-->
<html lang="zh-Hant-TW">


<!--head 存放網站的基本資訊,ex:title,meta,style-->
<head>

  <!--網站的標題-->
  <title>POPCAT CLASSIC</title>

  <!-- 添加icon在標題 -->
  <link rel="icon" type="image/png" href="imgs/cat-head.png">


  <!--網站的進一步說明，讓瀏覽者更了解網站的內容摘要，可以增加SEO分數-->
  <meta name="author" content="Joshua O'Sullivan, Freddy Heppell, Edward Hails">

<!--文件編碼是UTF-8-->
  <meta charset="UTF-8">

  <!--SEO 引擎最佳化 用燈塔(lighthouse)去評估-->
  <meta name="msapplication-TileColor" content="#b721ff">

  <!--瀏覽器上看到的網頁主題色-->
  <meta name="theme-color" content="#b721ff">

  <!--Google font 的設定-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Micro+5&family=Noto+Sans+TC:wght@100..900&family=Silkscreen:wght@400;700&display=swap" rel="stylesheet">

  <style>
    html { height:100%; overflow:hidden; }
    body {
      height:100%;
      margin:0;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      background-color: #bdaa90;
      user-select: none;
      -moz-user-select: none;
      -webkit-user-select: none;
      position:relative;
      overflow:hidden;
    }
    body::before{
      content:"";
      position:absolute;
      width:120%;height:120%;
      top:50%;left:50%;
      z-index:-1;
      transform:translate(-50%,-50%) rotate(-3deg);
      background-image: url("imgs/bg.jpg");
      background-repeat: repeat-x;
      background-size: contain;
    }

    .title {
      margin:2em 0 0 0;
      width: min(600px,80%);
    }

    .cat-img {
      height:0;
      flex-grow:1;
      width:100%;
      max-width: 800px;
      background-position: bottom;
      background-size: contain;
      background-repeat: no-repeat;
      touch-action: manipulation;
      text-align: center;
      color:white;
      -webkit-text-stroke-width: 3px;
      -webkit-text-stroke-color: black;
      font-weight:900;
      font-size:80px;
      font-family: 'Silkscreen', sans-serif;
      word-wrap: break-word;
    }
    @media(min-width:1000px) {
      .title {
        width: min(400px,80%);
      }
      .cat-img {
        font-size: 40px;
        -webkit-text-stroke-width: 1.5px;
      }
    }
    #p { background-image: url("imgs/p.png"); }
    #op { background-image: url("imgs/op.png"); }
  </style>
</head>

<!--body 放置網頁內文，提供內容給使用者看-->
<body>
<img class="title" src="imgs/popcat.svg" alt="POPCAT" width="20",height="200">

<!-- div 作為一個容器 -->
<div class="cat-img" id="p">123</div>

<video width="100" height="100" preload="auto" loop >
  <source src="https://youtu.be/aBcjPMhPsyM?feature=shared" type="video/WebM">
</video>

<!--
<script>
  /*Preloading alternate cat image*/
  preload = new Image();
  preload.src = "imgs/op.png";

  /*Cat elem*/
  cat = document.getElementById("p")

  /*Pop mp3s*/
  pops = [
    "pops/pop1.mp3",
    "pops/pop2.mp3",
    "pops/pop3.mp3",
    "pops/pop4.mp3",
  ]
  pop_i = 0

  /*Cookie utils*/
  function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i <ca.length; i++) {
      var c = ca[i];
      while (c.charAt(0) == ' ') {
        c = c.substring(1);
      }
      if (c.indexOf(name) == 0) {
        return c.substring(name.length, c.length);
      }
    }
    return "";
  }
  function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+ d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
  }

  pop_count = getCookie("pop_count")
  cat.innerHTML = pop_count > 0 ? pop_count : ""

  op_func = function(){
    /*Chance cat image to op.jpg via css*/
    cat.id = "op"

    /*Play pop noise*/
    a = new Audio(pops[pop_i])
    a.load()
    a.play()

    /*Increment index for next pop noise*/
    pop_i = (pop_i+1)%pops.length

    /*Increment pop count*/
    pop_count++
    cat.innerHTML = pop_count
    setCookie("pop_count",pop_count,365)

    /*Fire google analytics event for pop*/
    // gtag('event', 'pop');
  }
  p_func = () => setTimeout(() => cat.id = "p", 25)

  document.addEventListener("pointerup", p_func)
  document.addEventListener("keyup", p_func)
  document.addEventListener("pointerdown", op_func)
  document.addEventListener("keydown", op_func)
</script>-->

<!--
<script>

  let pop_count = 0;

  //用++簡化程式碼如下
  // pop_count = pop_count+1;
  // pop_count++;

  //函式
  //function open_popcat() {
  //pop_count++;}
  // open_popcat();

  //let op = function open_popcat(){
  //  pop_count++;
  //}

  //console.log(op);

  //console.log(pop_count);


  let cat = document.getElementById("p");
 // cat.innerHTML=pop_count;
  cat.style.backgroundImage = "imgs/op.png";

  let open_popcat = function (){
    pop_count++;

  }

  let open_popcat = function (){
    pop_count++;
    cat.innerHTML = pop_count;
    cat.id = "op";
  }

  let close_popcat = function () {
    cat.id = "p"
  }

  document.addEventListener("Keydown",open_popcat);
  document.addEventListener("pointerdown",open_popcat);
  document.getElementById("keyup",);




</script> -->

<script>
  let clickCount=0;
  const cat=document.getElementById("p");
  let popAudio=new Audio("pops/pop1.mp3");
  function popclick(){
    clickCount++;
    cat.innerHTML=clickCount;
    cat.id="op";
    popAudio.load();
    popAudio.play();
  }
  function popcl(){
    cat.id="p";
  }
  document.addEventListener("keydown",popclick);
  document.addEventListener("pointerdown",popclick);
  document.addEventListener("keyup",popcl);
  document.addEventListener("pointerup",popcl);
</script>


</body>
</html>